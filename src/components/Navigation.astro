---
const currentPath = Astro.url.pathname;
const base = import.meta.env.BASE_URL;
// Debug logging
console.log('Current Path:', currentPath);
console.log('Base URL:', base);
console.log('Normalized Path:', currentPath.replace(base, '/'));

const normalizedPath = currentPath.replace(base, '/');
---
<nav class="navigation">
	<a href={base} class="home-link">Living with the Ghost of Sam</a>
	<div class="nav-links">
		<a href={`${base}scripts`} class={normalizedPath === '/scripts' ? 'active' : ''}>Scripts</a>
		<a href={`${base}documents`} class={normalizedPath === '/documents' ? 'active' : ''}>Documents</a>
		<a href={`${base}bible`} class={normalizedPath === '/bible' ? 'active' : ''}>Character Bible</a>
		<a href={`${base}sam`} class={normalizedPath === '/sam' ? 'active' : ''}>Sam's Corner</a>
		<a href={`${base}about`} class={normalizedPath === '/about' ? 'active' : ''}>About</a>
	</div>
</nav>
<style>
	.navigation {
		background: rgba(255, 255, 255, 0.1);
		padding: 1rem 2rem;
		margin-bottom: 2rem;
		display: flex;
		justify-content: space-between;
		align-items: center;
	}
	.home-link {
		color: #64b3f4;
		text-decoration: none;
		font-weight: bold;
		font-size: 1.2rem;
		transition: color 0.2s;
	}
	.home-link:hover {
		color: #c2e59c;
	}
	.nav-links {
		display: flex;
		gap: 1.5rem;
	}
	.nav-links a {
		color: white;
		text-decoration: none;
		opacity: 0.8;
		transition: opacity 0.2s;
	}
	.nav-links a:hover {
		opacity: 1;
	}
	.nav-links a.active {
		color: #64b3f4;
		opacity: 1;
	}
	@media (max-width: 600px) {
		.navigation {
			flex-direction: column;
			gap: 1rem;
			text-align: center;
		}
		.nav-links {
			flex-direction: column;
			gap: 0.5rem;
		}
	}
</style>
